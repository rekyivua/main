{%- assign seconds = site.html_pages | sort: 'path' -%}
{%- for second in seconds -%}
    {%- assign slug = second.url | split: '/' | last -%}
    {%- assign current = second.url | remove: slug | remove: '//' | append: '/' -%}
    {%- if include.current == current and second.navhide != 1 -%}
        {%- assign options = site.html_pages | sort:"path" | where_exp: "i", "i.url contains second.url and i.name == 'index.html'" -%}
        {%- if options.size > 1 -%}
            <optgroup label="{{ second.navtitle }}">{%- include select/option.html current=second.url navtitle=second.navtitle -%}</optgroup>
        {%- else -%}
            <option value="{{ second.url }}">{{ second.navtitle }}</option>
        {%- endif -%}
    {%- endif -%}
{%- endfor -%}
